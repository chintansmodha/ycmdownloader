<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Store Unbilled GRN</title>
        {% load static %}
<link rel="shortcut icon" type="image/png" href="{% static 'favicon.ico' %}"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>


    <script>
    function plant(selectallplant)
	{
		var comp=document.getElementById("selplant");
		comp.disabled=!!selectallplant.checked;
		if (comp.disabled)
		{
			comp.focus();
		}
	}
	function supplier(selectallsupplier)
	{
		var comp=document.getElementById("selsupplier");
		comp.disabled=!!selectallsupplier.checked;
		if (comp.disabled)
		{
			comp.focus();
		}
	}
	function item(selectallitem)
	{
		var comp=document.getElementById("selitem");
		comp.disabled=!!selectallitem.checked;
		if (comp.disabled)
		{
			comp.focus();
		}
	}
	function itemcategory(checkboxallcategory)
	{
		var goods=document.getElementById("checkboxgoods");
		var capital=document.getElementById("checkboxcapitalgoods");
		var service=document.getElementById("checkboxservice");
		goods.checked=!!checkboxallcategory.checked;
		capital.checked=!!checkboxallcategory.checked;
		service.checked=!!checkboxallcategory.checked;
	}
    function validate(event){
    alert("from validation");
        date(event);
        var splant=document.forms["UnBilledGRNRegisterForm"][selplant];
        alert("value of plant : "+splant);
                if (splant.selectedIndex < 1) {
                    alert("Please select plant.");
                    splant.focus();
                    return false;
                }
                else{
                    alert("from validation else ");
                }
    }

 	$(document).ready(function()
        {
            var selplantlist=[];
            $("#selplant").select2(
                {
                    data:selplantlist
                }
            );
        }
    );

	$(document).ready(function()
        {
            var selitemlist=[];
            $("#selitem").select2(
                {
                    data:selitemlist
                }
            );
        }
    );
 $(document).ready(function()
	{
	var itemlist=[];
	$("#selsupplier").select2({
		data:itemlist
	});
	});

Date.prototype.toDateInputValue = (function() {
    var local = new Date(this);
    local.setMinutes(this.getMinutes() - this.getTimezoneOffset());
    return local.toJSON().slice(0,10);
});
    $(document).ready( function() {
    $('#startdate').val(new Date().toDateInputValue());
});
$(document).ready( function() {
    $('#enddate').val(new Date().toDateInputValue());
});

function date(event){
    var startDate = document.getElementById("startdate").value;
    var endDate = document.getElementById("enddate").value;
    if (!Date.parse(startDate)){
    alert("Please Enter Start Date");
        event.preventDefault();
    }

    if (!Date.parse(endDate)){
    alert("Please Enter End Date");
        event.preventDefault();
    }

    if ((Date.parse(startDate) > Date.parse(endDate))) {
        alert("End date should be greater than Start date");
        event.preventDefault();
    }
     return true;
}




    </script>

    <style>
select,
.select2 {
    width: 100%;
    margin: 0 auto;
    border-radius: 0 !important;
    display: block;
}
.select2-container .select2-selection {
    height: 200px;
    overflow: scroll;
}
.select2-container--default .select2-selection--multiple {
    border-radius: 0;
    line-height: 30px;
    font-size: 14p;
    border: 1px solid #fafafa;


</style>
</head>

<body>

<!-- go through this below site -->
<!--******* http://eonasdan.github.io/bootstrap-datetimepicker/Installing/ ****-->
<div class="vspacer20"></div>
<div class="container">
    <div class="row">
        <div class='col-sm-16'>
            <div class="panel panel-primary col-sm-16">
                <div class="panel-heading">UnBilled GRN</div>
                <form action='UnBilledGRNRegister' id='UnBilledGRNRegisterForm' onsubmit=" date(event);"
                      class="mar"
                      method="get" target="_blank">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-xs-3">
                                <div>
                                    <label>PLant</label>
                                </div>
                            </div>
                            <div class="col-xs-3">
                                <div>
                                    <label>Supplier</label>
                                </div>
                            </div>
                            <div class="col-xs-3">
                                <div>
                                    <label>Item</label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-3">
                                <div class="checkbox">
                                    <label><input type="checkbox" id="selectallplant" name="selectallplant"
                                                  onclick="plant(this)" value="1">Select All Plant </Center>
                                    </label>
                                </div>
                            </div>
                            <div class="col-xs-3">
                                <div class="checkbox">
                                    <label><input type="checkbox" id="selectallsupplier" name="selectallsupplier"
                                                  onclick="supplier(this)" value="1">Select All Supplier </Center>
                                    </label>
                                </div>
                            </div>
                            <div class="col-xs-3">
                                <div class="checkbox">
                                    <label><input type="checkbox" id="selectallitem" name="selectallitem"
                                                  onclick="item(this)" value="1">Select All Item Type</Center>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-3">
                                <div class="form-group">
                                    <select name='selplant' id='selplant' class="form-control" multiple>
                                        {%for i in plant%}
                                        <option value="{{ i.CODE }}">{{ i.LONGDESCRIPTION }}-{{ i.code }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                            <div class="col-xs-3">
                                <select name='selsupplier' id='selsupplier' multiple class="form-control">
                                    {%for i in supplier%}
                                    <option value="{{ i.CODE }}">{{ i.LONGDESCRIPTION }}-{{ i.CODE }}
                                    </option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="col-xs-3">
                                <select name='selitem' id='selitem' multiple class="form-control">
                                    {%for i in itemtype%}
                                    <option value="{{ i.CODE }}">{{ i.LONGDESCRIPTION }}-{{ i.CODE }}
                                    </option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-3">
                                <div>
                                    <label>From Date</label>
                                </div>
                            </div>
                            <div class="col-xs-3">
                                <div>
                                    <label>To Date</label>
                                </div>
                            </div>
                            <div class="col-xs-3">
                                <div>
                                    <label>Report Type </label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-3">
                                <div>
                                    <input type='date' id='startdate' name='startdate'>
                                </div>
                            </div>
                            <div class="col-xs-3">
                                <div class="form-group">
                                    <div class='input-group date' id='datetimeFrom'>
                                        <input type='date' id='enddate' name='enddate'>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-3">
                                <div class="form-group">
                                    <div class='input-group date' id='datetimeTo'>
                                        <select id="SortByReportType" name="SortByReportType" class="form-control">
                                            <option value="1">GRN Wise</option>
                                            <option value="2">Supplier wise</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-3">
                                <div class="form-group">
                                    <label>
                                        Item Category
                                    </label>
                                    <div class="checkbox">
                                        <label><input type="checkbox" id="checkboxallcategory"
                                                      name="checkboxallcategory"
                                                      onclick="itemcategory(this)"
                                                      value="1">Select All Category </Center>
                                        </label>
                                    </div>
                                    <div class="checkbox">
                                        <label><input type="checkbox" id="checkboxgoods" name="checkboxgoods"
                                                      value="1">Goods </Center>
                                        </label>
                                    </div>
                                    <div class="checkbox">
                                        <label><input type="checkbox" id="checkboxcapitalgoods"
                                                      name="checkboxcapitalgoods"
                                                      value="1">Capital Goods </Center>
                                        </label>
                                    </div>
                                    <div class="checkbox">
                                        <label><input type="checkbox" id="checkboxservice" name="checkboxservice"
                                                      value="1">Service </Center>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">

                        </div>


                        <div class="col-xs-4">
                        </div>
                        <div class="col-xs-12">
                            <div class="text-right">
                                <label>Generate Report : </label>
                                <button type="submit" id="submit" value="Submit" class="btn btn-primary">PDF
                                </button>
                                <!--                                    <button class="btn btn-primary">Excel</button>-->
                            </div>
                        </div>
                    </div>

            </div>
            <div class="panel-footer"></div>
            </form>
            <div class="six">
                <label for='exception'><b>{%if Exception %}
                    <script>alert("Note : No Record found according to your selected criteria");</script>
                    {% endif %}
                </b></label>
            </div>
        </div>
    </div>
</div>
</div>

<script src="js/jquery.min.js"></script>
<script src="js/moment.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/bootstrap-datetimepicker.min.js"></script>
<script type="text/javascript">
		$(function () {
			$('#datetimeFrom').datepicker();
			$('#datetimeTo').datepicker();
		});









</script>
</body>